<% rooms.each do |room| %>
  <div style="height: 254.7px; width: 168.8px;"
      class="ba b--black-10 bg-white br2 tc flex flex-column justify-between items-center">
    
    <div class="w-100 flex pa2 flex flex-column">
      <div class="w-100 flex items-center justify-between mb2">
        <i class="material-icons gray f6 dim pointer">delete</i>
        <%= link_to "DELETE",
          destroy_room_path(facility_id: room.facility_id, room_id: room.id),
          remote: true,
          method: :post,
          data: {
            confirm: "Are you sure?"
          }
        %>

        <div class="flex flex-row items-center justify-center">
          <div class="br-100 bg-green pa3"></div>
          <div class="br-100 bg-white pa2 absolute"></div>
        </div>
      </div>

      <div class="w-100 flex flex-column">
        <div class="flex flex-column mb2">
          <img
            src="http://tachyons.io/img/logo.jpg"
            class="br-100 ba h3 w3 dib center mb2"
          >
          <span class="mid-gray f6 fw6"><%= room.name %></span>
          <span class="gray f7">Capacity: N/A</span>
        </div>

        <div class="mt3">
          <div class="flex flex-row">
            <div class="flex flex-row w-50 tl pr1">
              <i class="material-icons gray f7">radio_button_unchecked</i>
              <div class="flex flex-column w-100 ml2">
                <span class="mid-gray f6 fw6">N/A</span>
                <span class="gray f7">Sections</span>
              </div>
            </div>

            <div class="flex flex-row w-50 tl pl1">
              <i class="material-icons gray f7">radio_button_unchecked</i>
              <div class="flex flex-column w-100 ml2">
                <span class="mid-gray f6 fw6">N/A</span>
                <span class="gray f7">Rows</span>
              </div>
            </div>
          </div>

          <div class="flex flex-row mt2">
            <div class="flex flex-row w-50 tl pr1">
              <i class="material-icons gray f7">radio_button_unchecked</i>
              <div class="flex flex-column w-100 ml2">
                <span class="mid-gray f6 fw6">N/A</span>
                <span class="gray f7">Shelves</span>
              </div>
            </div>

            <div class="flex flex-row w-50 tl pl1">
              <i class="material-icons gray f7">radio_button_unchecked</i>
              <div class="flex flex-column w-100 ml2">
                <span class="mid-gray f6 fw6">N/A</span>
                <span class="gray f7">Trays</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="w-100 dim">
      <%= link_to "Set up room",
        fetch_room_info_path(
          facility_id: room.facility_id,
          room_id: room.id,
          room_name: room.name,
          room_code: room.code,
        ), remote: true, 
        class: "ttc link flex f6 fw5 black justify-center w-100 pv2"
      %>
    </div>
  </div>
<% end %>


<% unless rooms.blank? %>
  <div style="height: 254.7px; width: 168.8px;"
    class="ba b--black-10 b--dashed bg-white br2 pa3 flex items-center justify-center">
    <% if rooms.size > 0 %>
      <%= link_to generate_rooms_path(facility_id: facility_id, rooms_count: rooms.size + 1, mode: 'increment'), 
          remote: true, method: :post, class: "dim link" do %>
          <i class="material-icons md-48 green">add_circle</i>
      <%end%>
    <% end %>
  </div>
<% end %>
