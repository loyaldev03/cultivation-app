<% content_for :breadcrumb do %>
  <div class="flex flex-row items-center justify-between">
    <div>
      <%= breadcrumbs ["Home",root_path], ["Dashboard", root_path], ["Facility Setup", facility_setup_new_path], "Room Setup" %>
    </div>

    <div class="flex flex-row items-center">
      <i class="material-icons gray f6 mr3 dim">notifications</i>

      <img
        src="http://tachyons.io/img/logo.jpg"
        class="br-100 h2 w2 mr3 dib" alt="avatar">

      <h3 class="ma0 ttc f6 fw5 gray">User Name</h3>

      <i class="material-icons dim f6 gray ml2">keyboard_arrow_down</i>
    </div>
  </div>
<% end %>

<div class="pa4">
  <div class="flex flex-column justify-between bg-white">
    <div class="ph5 pv3 ba bt-0 bb-1 br-0 bl-0 b--black-10">
      <h2 class="tl pa0 ma0 fw4 dark-gray">Room Setup</h2>
    </div>

    <div class="pv4 ph5" style="min-height: 75vh;">
      <div class="fl w-70 flex flex-column">
        <h2 class="f2 tl pa0 ma0 fw4 dark-gray">Room Setup</h2>
        <p class="mt2 f5 fw4 dark-gray">
          Awesome, you've just setup your facility! Room details are next...
        </p>

        <div class="mt3 flex flex-column">
          <div class="mv4 flex flex-row">
            <div class="w-20">
              <span class="f6 fw6 mid-gray">Room Details</span>
            </div>

            <% if @rooms_info_form.wz_room_count == 0 %>
            <div class="w-80">
              <label class="f6 fw5 db mb1 gray">How many number of rooms in total?</label>
              <%# <%= link_to "Room Count", fetch_rooms_path, remote: true %1> %>
              <%= select_tag :rooms_count,
                options_for_select(["",*1..25], @rooms_info_form.wz_room_count),
                data: {
                  remote: true,
                  url: generate_rooms_path(
                    facility_id: @rooms_info_form.facility_id,
                    mode: 'new'),
                  method: :post
                },
                class: "w-20 mt2 gray br2 ba b--black-20 outline-0"
              %>
            </div>
            <% end %>

          </div>
        </div>

        <div class="w-100 h-100 flex flex-row">
          <div class="w-20 fl"></div>
          
          <div 
            id="rooms_grid"
            class="w-80" 
            style="
                    display: grid; 
                    grid-template-columns: repeat(4, 1fr); 
                    grid-gap: 2rem;
                  "
          >
            <%= render partial: 'rooms_list', locals: {facility_id: @rooms_info_form.facility_id, rooms: @rooms_info_form.rooms} %>
          </div>
        </div>
      </div>

      <div class="fl w-30 flex justify-end">
        <%= render "layouts/timeline" %>
      </div>
    </div>

    <%= render "form_buttons" %>
  </div>
</div>

<%= render "slide_panel" %>
